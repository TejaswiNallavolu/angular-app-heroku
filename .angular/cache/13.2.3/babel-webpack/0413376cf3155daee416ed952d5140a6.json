{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nlet ClassListComponent = class ClassListComponent {\n  constructor(fb, router, auth) {\n    this.fb = fb;\n    this.router = router;\n    this.auth = auth;\n    this.isDataGridShow = true;\n    this.isFormShow = true;\n  }\n\n  ngOnInit() {\n    this.CreateClassListForm();\n    this.getClassList();\n    this.isDataGridShow = true;\n  }\n\n  CreateClassListForm() {\n    this.ClassListForm = this.fb.group({\n      ListOfClassesID: ['', Validators.nullValidator],\n      ClassName: ['', Validators.required],\n      Image: ['', Validators.required],\n      Time: ['', Validators.required],\n      Location: ['', Validators.required],\n      Link: ['', Validators.required]\n    });\n  }\n\n  getClassList() {\n    this.auth.getAllClassList().subscribe(data => {\n      // console.log(data)\n      this.classListData = data.classlist;\n    }, err => {\n      console.log(err);\n    });\n  }\n\n  Create() {\n    this.isDataGridShow = false;\n  }\n\n  saveClassList() {\n    this.ClassListModel = Object.assign({}, this.ClassListForm.value);\n    this.ClassListModel.ListOfClassesID = this.ClassListModel.ListOfClassesID === '' ? null : this.ClassListModel.ListOfClassesID;\n    this.auth.postClassList(this.ClassListModel).subscribe(() => {\n      if (this.ClassListModel.ListOfClassesID != null) {\n        alert(\"Class List Data Updated successfully\");\n      } else {\n        alert(\"Class List Data Saved successfully\");\n      }\n\n      this.isDataGridShow = true;\n      this.getClassList();\n      const url = this.router.url;\n      this.router.navigateByUrl('/list', {\n        skipLocationChange: true\n      }).then(() => {\n        this.router.navigate([url]);\n      });\n    }, error => {\n      console.log(error);\n    });\n  }\n\n  Cancel() {\n    this.isDataGridShow = true;\n    this.CreateClassListForm();\n  }\n\n  edit(classId) {\n    this.isDataGridShow = false;\n    this.auth.getClassById(classId).subscribe(data => {\n      //  console.log(data);\n      var cls = data.classlist; //  ListOfClassesID: ['', Validators.nullValidator],\n      //  ClassName: ['', Validators.required],\n      //  Image: ['', Validators.required],\n      //  Time: ['', Validators.required],\n      //  Location: ['', Validators.required],\n      //  Link: ['', Validators.required],\n\n      this.ClassListForm.controls.ListOfClassesID.setValue(cls.listOfClassesID);\n      this.ClassListForm.controls.ClassName.setValue(cls.className);\n      this.ClassListForm.controls.Image.setValue(cls.image);\n      this.ClassListForm.controls.Time.setValue(cls.time);\n      this.ClassListForm.controls.Location.setValue(cls.location);\n      this.ClassListForm.controls.Link.setValue(cls.link);\n    }, err => {\n      console.log(err);\n    });\n  }\n\n  delete(classId) {\n    this.auth.deleteClassList(classId).subscribe(res => {\n      alert(\"Class Details Deleted Successfully\");\n      this.getClassList();\n    }, err => {\n      alert(\"Error in deleting Class Details\");\n    });\n  }\n\n};\nClassListComponent = __decorate([Component({\n  selector: 'app-class-list',\n  templateUrl: './class-list.component.html',\n  styleUrls: ['./class-list.component.css']\n})], ClassListComponent);\nexport { ClassListComponent };","map":null,"metadata":{},"sourceType":"module"}